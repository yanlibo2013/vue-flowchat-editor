(function(e){function n(n){for(var o,c,r=n[0],s=n[1],l=n[2],d=0,p=[];d<r.length;d++)c=r[d],i[c]&&p.push(i[c][0]),i[c]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);u&&u(n);while(p.length)p.shift()();return a.push.apply(a,l||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],o=!0,c=1;c<t.length;c++){var s=t[c];0!==i[s]&&(o=!1)}o&&(a.splice(n--,1),e=r(r.s=t[0]))}return e}var o={},i={app:0},a=[];function c(e){return r.p+"js/"+({operation:"operation"}[e]||e)+"."+{operation:"3fd1688c"}[e]+".js"}function r(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.e=function(e){var n=[],t=i[e];if(0!==t)if(t)n.push(t[2]);else{var o=new Promise(function(n,o){t=i[e]=[n,o]});n.push(t[2]=o);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.src=c(e),a=function(n){s.onerror=s.onload=null,clearTimeout(l);var t=i[e];if(0!==t){if(t){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src,c=new Error("Loading chunk "+e+" failed.\n("+o+": "+a+")");c.type=o,c.request=a,t[1](c)}i[e]=void 0}};var l=setTimeout(function(){a({type:"timeout",target:s})},12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(n)},r.m=e,r.c=o,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)r.d(t,o,function(n){return e[n]}.bind(null,o));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="/vue-jsplumb-editor/dist/",r.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=n,s=s.slice();for(var d=0;d<s.length;d++)n(s[d]);var u=l;a.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"0217":function(e,n,t){"use strict";var o=t("1d5b"),i=t.n(o);i.a},"1d5b":function(e,n,t){},"245a":function(e,n,t){var o=t("96eb");o.mock("api/getFlowChartData","get",function(){return{nodes:[{id:"aaa",points:{targets:[],sources:["source1","source2","source10"]},position:{left:300,top:100},data:{value:"数据源1",icon:"el-icon-coin"}},{id:"bbb",points:{targets:["target1","target2","target3"],sources:["source3"]},position:{left:300,top:300},data:{value:"数据预处理1",icon:"el-icon-magic-stick"}},{id:"ccc",points:{targets:["ccc111","ccc222"],sources:["ccc333"]},position:{left:400,top:500},data:{value:"深度学习1111",icon:"el-icon-coin"}},{id:"ddd",points:{targets:["ddd111"],sources:["ddd333","ddd222"]},position:{left:650,top:300},data:{value:"特征1111",icon:"el-icon-star-off",nodeState:"warning"}}],endpoints:[{id:"target1",data:{value:"输入"}},{id:"target2",data:{value:"输入1"}},{id:"source1",data:{value:"输出表1"}},{id:"source2",data:{value:"输出表2"}},{id:"source3",data:{value:"输出表"}},{id:"ccc111",data:{value:"输入c1"}},{id:"ccc222",data:{value:"输入c2"}},{id:"ccc333",data:{value:"输出表"}},{id:"source10",data:{value:"输出表3"}},{id:"target3",data:{value:"输入3"}},{id:"ddd111",data:{value:"输入"}},{id:"ddd222",data:{value:"输出DDD"}},{id:"ddd333",data:{value:"输出E"}}],edges:["source1&&target1","source2&&target2","source3&&ccc111","source3&&ccc222"],head:"aaa"}}),o.mock("api/getMenuData","get",function(){return[{label:"源 / 目标",id:"source",children:[{label:"写数据表",id:"source1",icon:"el-icon-coin"},{label:"读取文件数据",id:"source2",icon:"el-icon-coin"},{label:"读数据表",id:"source3",icon:"el-icon-coin"},{label:"OSS数据同步",id:"source4",icon:"el-icon-coin"},{label:"Mysql数据同步",id:"source5",icon:"el-icon-coin"}]},{label:"数据预处理",id:"preHandle",children:[{label:"采样与过滤",id:"preHandle1",icon:"el-icon-magic-stick",children:[{label:"随机采样",id:"preHandle11",icon:"el-icon-magic-stick"},{label:"加权采样",id:"preHandle12",icon:"el-icon-magic-stick"},{label:"过滤与映射",id:"preHandle13",icon:"el-icon-magic-stick"},{label:"分层采样",id:"preHandle14",icon:"el-icon-magic-stick"}]},{label:"数据合并",id:"preHandle2",children:[{label:"合并列",id:"preHandle21",icon:"el-icon-magic-stick"},{label:"合并行",id:"preHandle22",icon:"el-icon-magic-stick"},{label:"JOIN",id:"preHandle23",icon:"el-icon-magic-stick"}]},{label:"类型转换",id:"preHandle3",icon:"el-icon-magic-stick"},{label:"增加序列号",id:"preHandle4",icon:"el-icon-magic-stick"}]},{label:"特征工程",id:"sign",children:[{label:"特征变换",id:"sign1",children:[{label:"特征尺度变换",id:"sign11",icon:"el-icon-magic-stick"},{label:"特征离散",id:"sign12",icon:"el-icon-magic-stick"}]},{label:"特征重要性评估",id:"sign2",children:[{label:"线性模型特征重要性",id:"sign21",icon:"el-icon-magic-stick"}]},{label:"特征选择",id:"sign3",children:[{label:"过滤式特征选择",id:"sign31",icon:"el-icon-magic-stick"}]},{label:"特征生成",id:"sign4",children:[{label:"特征编码",id:"sign41",icon:"el-icon-magic-stick"},{label:"one-hot编码",id:"sign42",icon:"el-icon-magic-stick"}]}]},{label:"机器学习",id:"learn",children:[{label:"二分类",id:"learn1",children:[{label:"GBDT二分类",id:"learn11",icon:"el-icon-star-off"},{label:"线性支持向量机",id:"learn12",icon:"el-icon-star-off"},{label:"逻辑回归二分类",id:"learn13",icon:"el-icon-star-off"}]},{label:"多分类",id:"learn2",children:[{label:"K近邻",id:"learn21",icon:"el-icon-star-off"},{label:"随机森林",id:"learn22",icon:"el-icon-star-off"},{label:"朴素贝叶斯",id:"learn23",icon:"el-icon-star-off"}]},{label:"聚类",id:"learn3",children:[{label:"K均值聚类",id:"learn31",icon:"el-icon-star-off"},{label:"DBSCAN",id:"learn32",icon:"el-icon-star-off"}]},{label:"回归",id:"learn4",children:[{label:"线性回归",id:"learn41",icon:"el-icon-star-off"},{label:"PS线性回归",id:"learn42",icon:"el-icon-star-off"}]},{label:"评估",id:"learn5",children:[{label:"混淆矩阵",id:"learn51",icon:"el-icon-star-off"},{label:"多分类评估",id:"learn52",icon:"el-icon-star-off"}]},{label:"预测",id:"learn6",icon:"el-icon-star-off"}]}]})},"56d7":function(e,n,t){"use strict";t.r(n);t("cadf"),t("551c"),t("f751"),t("097d");var o=t("2b0e"),i=t("5c96"),a=t.n(i),c=(t("0fae"),function(){var e=this,n=e.$createElement,o=e._self._c||n;return o("el-container",{staticClass:"wrap"},[o("el-header",{staticClass:"fy_el-header",attrs:{height:"42px"}},[o("img",{attrs:{src:t("cf05"),alt:""}}),o("span",{staticClass:"logoFont"},[e._v("机器学习平台")]),o("router-link",{staticClass:"navItem",attrs:{"active-class":"active",to:"/index"}},[e._v("ai平台")]),o("router-link",{staticClass:"navItem",attrs:{"active-class":"active",to:"/operation"}},[e._v("运维中心")]),o("el-dropdown",[o("span",{staticClass:"el-dropdown-link"},[e._v("\n        更多"),o("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",{attrs:{icon:"el-icon-s-tools"}},[e._v("修改密码")]),o("el-dropdown-item",{attrs:{icon:"el-icon-warning"}},[e._v("退出登录")])],1)],1)],1),o("el-container",{staticClass:"my-app-container"},[o("keep-alive",[o("router-view")],1)],1)],1)}),r=[],s={},l=s,d=(t("5c0b"),t("2877")),u=Object(d["a"])(l,c,r,!1,null,null,null),p=u.exports,f=t("8c4f"),m=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-container",{staticClass:"indexWrap"},[t("el-aside",{staticClass:"fy_el-aside",attrs:{width:"48px"}},[t("el-menu",{attrs:{"default-active":"2","background-color":"transparent","text-color":"#9aaeba","active-text-color":"#9aaeba",collapse:!0}},[t("el-menu-item",{attrs:{index:"1"}},[t("i",{staticClass:"el-icon-s-home"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("首页")])]),t("el-menu-item",{attrs:{index:"2"}},[t("i",{staticClass:"el-icon-magic-stick"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("设计")])]),t("el-menu-item",{attrs:{index:"3"}},[t("i",{staticClass:"el-icon-setting"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("设置")])])],1)],1),t("el-main",[t("FlowChart")],1)],1)},h=[],v=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-container",{staticClass:"flowChartWrap"},[t("el-aside",{staticClass:"left",attrs:{width:"240px"}},[t("div",{staticClass:"search"},[t("el-input",{attrs:{placeholder:"搜索",size:"small"},model:{value:e.filterText,callback:function(n){e.filterText=n},expression:"filterText"}},[t("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1),t("el-tree",{ref:"tree2",attrs:{data:e.nodeData,"node-key":"id","default-expanded-keys":["source","preHandle","sign","learn"],"icon-class":"el-icon-arrow-right","render-content":e.renderContentFunction,"filter-node-method":e.filterNode,props:e.defaultProps}})],1),t("el-main",[t("el-container",[t("el-header",{staticClass:"tabsNav",attrs:{height:"40px"}},[t("el-tabs",{attrs:{type:"card",closable:""},model:{value:e.activeName,callback:function(n){e.activeName=n},expression:"activeName"}},[t("el-tab-pane",{attrs:{name:"first"}},[t("span",{attrs:{slot:"label"},slot:"label"},[t("i",{staticClass:"el-icon-s-promotion"}),e._v(" 我的模型一")])])],1)],1),t("el-container",[t("el-main",{staticClass:"main"},[t("div",{attrs:{id:"mainMenu"}},[t("div",{staticClass:"tool-left"},[t("el-button",{attrs:{icon:"el-icon-video-play",disabled:e.isExecDisable,size:"small"},on:{click:e.execModel}},[e._v("执行")]),t("el-button",{attrs:{icon:"el-icon-upload",size:"small"}},[e._v("部署")]),t("el-button",{attrs:{icon:"el-icon-box",size:"small"}},[e._v("Auto ML")])],1),t("div",{staticClass:"tool-right"},[t("el-tooltip",{attrs:{content:"撤销"}},[t("el-button",{attrs:{icon:"el-icon-refresh-left",disabled:e.isUndoDisable,circle:""},on:{click:e.undo}})],1),t("el-tooltip",{attrs:{content:"放大"}},[t("el-button",{attrs:{icon:"el-icon-zoom-in",circle:""},on:{click:e.zoomOut}})],1),t("el-tooltip",{attrs:{content:"缩小"}},[t("el-button",{attrs:{icon:"el-icon-zoom-out",circle:""},on:{click:e.zoomIn}})],1),t("el-tooltip",{attrs:{content:"自动布局"}},[t("el-button",{attrs:{icon:"el-icon-bangzhu",circle:""}})],1),t("el-tooltip",{attrs:{content:"全屏"}},[t("el-button",{attrs:{icon:"el-icon-full-screen",circle:""}})],1)],1)]),t("div",{staticClass:"mainContainer",on:{drop:e.dropHandle,dragover:e.dragoverHandle}},[t("div",{attrs:{id:"mainContainer"},on:{click:e.clickBgHandle}})]),t("el-dialog",{attrs:{title:"数据探查-（仅显示前100条）",visible:e.dialogTableVisible},on:{"update:visible":function(n){e.dialogTableVisible=n}}},[t("el-table",{attrs:{data:e.gridData}},[t("el-table-column",{attrs:{property:"date",label:"日期",width:"150"}}),t("el-table-column",{attrs:{property:"name",label:"姓名",width:"200"}}),t("el-table-column",{attrs:{property:"address",label:"地址"}})],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:function(n){e.dialogTableVisible=!1}}},[e._v("复 制")]),t("el-button",{on:{click:function(n){e.dialogTableVisible=!1}}},[e._v("取 消")])],1)],1)],1),t("el-aside",{staticClass:"right",attrs:{width:"300px"}},[t("el-container",{attrs:{id:"mainNodeInfo"}},[t("el-main",[t("div",[t("div",{directives:[{name:"show",rawName:"v-show",value:"component"===e.toolBarShow,expression:"toolBarShow==='component'"}]},[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.isShowNode,expression:"!isShowNode"}]},[t("div",{staticClass:"title"},[e._v("实验属性")]),t("div",{staticClass:"model-attr"},[t("p",[t("span",{staticClass:"item"},[e._v("项目名称")]),t("span",{staticClass:"value"},[e._v("Test")])]),t("p",[t("span",{staticClass:"item"},[e._v("创建日期")]),t("span",{staticClass:"value"},[e._v("2019-04-19 12:14:39")])]),t("p",[t("span",{staticClass:"item"},[e._v("名称")]),t("el-input",{attrs:{size:"small"},model:{value:e.modelName,callback:function(n){e.modelName=n},expression:"modelName"}})],1),t("p",[t("span",{staticClass:"item"},[e._v("描述")]),t("el-input",{attrs:{type:"textarea",size:"small"},model:{value:e.modelDescription,callback:function(n){e.modelDescription=n},expression:"modelDescription"}})],1)])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowNode,expression:"isShowNode"}]},[t("div",{staticClass:"title"},[e._v("节点属性")]),t("div",{staticClass:"node-attr"},[t("p",[t("span",{staticClass:"item"},[e._v("节点ID")]),t("span",{staticClass:"value"},[e._v(e._s(e.currentNodeId))])])])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:"message"===e.toolBarShow,expression:"toolBarShow==='message'"}]},[t("div",{staticClass:"title"},[e._v("消息管理")]),t("div",e._l(e.messagesList,function(n,o){return t("el-card",{key:o,staticClass:"messageInfo"},[t("p",[e._v(e._s(n.time))]),t("div",[t("i",{staticClass:"el-icon-circle-close",staticStyle:{color:"red","font-size":"26px",position:"relative",top:"5px"}}),e._v("\n                        "+e._s(n.message)+"\n                      ")])])}),1)])])]),t("el-aside",{staticClass:"nodeInfoToolBar",attrs:{width:"32px"}},[t("div",{class:{tool:!0,component:!0,acitve:"component"===e.toolBarShow},on:{click:function(n){e.toolBarShow="component"}}},[t("i",{staticClass:"el-icon-tickets"}),t("span",[e._v(" 组件参数")])]),t("div",{class:{tool:!0,message:!0,acitve:"message"===e.toolBarShow},on:{click:function(n){e.toolBarShow="message"}}},[t("i",{staticClass:"el-icon-chat-dot-round"}),t("span",[e._v(" 消息提醒")])])])],1)],1)],1)],1)],1)],1)},g=[],b=t("bd86"),x=t("bc3a"),y=t.n(x);function k(){return new Promise(function(e,n){y.a.get("api/getFlowChartData").then(e).catch(n)})}function w(){return new Promise(function(e,n){y.a.get("api/getMenuData").then(e).catch(n)})}var C={getFlowChartData:k,getMenuData:w},j=t("aede"),_=(t("6762"),t("2fdb"),"&&"),N=t("c437");function E(e){var n=e,t=document.createElement("style");t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n)),document.getElementsByTagName("head")[0].appendChild(t)}function O(e){return"Dot"===e.type}function D(){var e=N();while(e.includes(_))e=N();return e}function S(){var e=Object(j["a"])(["\n#mainContainer .tooltip{\n    \n}\n\n#mainContainer .sourcePoint .tooltip .tooltip-arrow{\n    width:0;\n    height:0;\n    border-left: 6px solid transparent;\n    border-right: 6px solid transparent;\n    border-bottom: 8px solid black;\n    margin: 0 auto;\n}\n#mainContainer .sourcePoint .tooltip .tooltip-inner{\n    background:black;\n    color:#fff;\n    padding:8px;\n    border-radius:4px;\n    white-space: nowrap;\n    font-size:12px;\n}\n\n#mainContainer .targetPoint .tooltip .tooltip-arrow{\n    width:0;\n    height:0;\n    border-left: 6px solid transparent;\n    border-right: 6px solid transparent;\n    border-top: 8px solid black;\n    margin: 0 auto;\n    position:absolute;\n    bottom:2px;\n}\n#mainContainer .targetPoint .tooltip .tooltip-inner{\n    background:black;\n    color:#fff;\n    padding:8px;\n    border-radius:4px;\n    white-space: nowrap;\n    font-size:12px;\n    position:relative;\n    top:-10px;\n}\n\n.fy_node{\n    position:absolute;\n    border:1px solid #289de9;\n    width:170px;\n    height:34px;\n    line-height:32px;\n    border-radius:4px;\n    font-size:14px;\n    cursor:move;\n    box-sizing:border-box;\n    background:#fff;\n    overflow:hidden;\n}\n.fy_node.fy_node_selected{\n    background:#E2F2FF;\n}\n.fy_node:hover{\n    border-width:2px;\n    line-height:30px;\n    z-index:10;\n}\n\n\n.fy_node:hover + .jtk-endpoint {\n    z-index:10;\n}\n\n.fy_node:hover + .jtk-endpoint + .jtk-endpoint{\n    z-index:10;\n}\n\n.fy_node:hover + .jtk-endpoint + .jtk-endpoint + .jtk-endpoint {\n    z-index:10;\n}\n\n.fy_node:hover + .jtk-endpoint + .jtk-endpoint + .jtk-endpoint + .jtk-endpoint{\n    z-index:10;\n}\n\n.fy_node:hover + .jtk-endpoint + .jtk-endpoint + .jtk-endpoint + .jtk-endpoint + .jtk-endpoint{\n    z-index:10;\n}\n\n.fy_node:hover + .jtk-endpoint + .jtk-endpoint + .jtk-endpoint + .jtk-endpoint + .jtk-endpoint + .jtk-endpoint{\n    z-index:10;\n}\n\n\n.fy_node .blue_line{\n    position:absolute;\n    top:2px;\n    left:3px;\n    border-radius:2px;\n    padding:14px 2px;\n    background:#1c9bec;\n}\n.fy_node:hover .blue_line{\n    top:1px;\n    left:2px;\n}\n.fy_node .content i {\n    position:relative;\n    top:-10px;\n    color: rgb(0, 205, 234);\n    margin-left: 15px;\n    margin-right: 15px;\n}\n.fy_node .content span{\n    display:inline-block;\n    width:80px;\n    overflow: hidden;\n    text-overflow:ellipsis;\n    white-space: nowrap;\n}\n.fy_node:hover .content i {\n    margin-left: 14px;\n    margin-right: 15px;\n    top:-9px;\n}\n.node-state{\n    top: -8px !important;\n    font-size: 20px;\n    margin-left:8px !important;\n}\n.fy_node:hover .node-state{\n    top: -7px !important;\n    font-size: 20px;\n}\n.fy_contextMenu{\n    margin: 0;\n    padding: 5px 0;\n    min-width: 170px;\n    position: absolute;\n    list-style: none;\n    background-color: hsla(0,0%,100%,.98);\n    border: 1px solid #eee;\n    -webkit-box-shadow: 5px 5px 30px rgba(0,0,0,.1);\n    box-shadow: 5px 5px 30px rgba(0,0,0,.1);\n    border-radius: 2px;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    z-index:9999\n}\n.fy_contextMenu li {\n    font-size: 12px;\n    color: #333;\n    height: 26px;\n    line-height: 26px;\n    padding-left: 10px;\n    padding-right: 10px;\n    cursor: pointer;\n    -webkit-transition: background-color .1s ease;\n    -o-transition: background-color .1s ease;\n    transition: background-color .1s ease;\n}\n.fy_contextMenu li:hover {\n    background-color: #e8f6ff;\n    color: black;\n}\n.fy_contextMenu li span{\n    margin-left:10px;\n}\n.jtk-drag-select * {\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n.jtk-endpoint.sourcePoint {\n    z-index:9;\n    cursor:crosshair;\n}\n.jtk-connector{\n    cursor: default;\n}\n.targetPoint.active:not(.jtk-endpoint-connected) svg circle{\n    fill:#00cdea;\n}\n.jtk-connector.active path {\n    animation-name: ring;\n    animation-duration: 2s;\n    animation-timing-function: linear;\n    animation-iteration-count: infinite;\n    stroke-dasharray:5; \n}\n@keyframes ring {\n    from {\n        stroke-dashoffset: 50;\n    }\n    to {\n        stroke-dashoffset: 0;\n    }\n}\n"]);return S=function(){return e},e}E(S());var B=t("e193"),P={DragOptions:{cursor:"pointer",zIndex:2e3},ConnectionOverlays:[["Arrow",{location:1,visible:!0,width:8,length:8,id:"ARROW"}]],ConnectionsDetachable:!1},z=B["jsPlumb"].getInstance(P);t("ac6a");function H(){this.clientList={}}H.prototype={on:function(e,n){this.clientList[e]||(this.clientList[e]=[]),this.clientList[e].push(n)},emit:function(){for(var e=this,n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];var i=Array.prototype.shift.call(t),a=this.clientList[i];return!(!a||0===a.length)&&(a.forEach(function(n){n.apply(e,t)}),!1)},remove:function(e,n){var t=this.clientList[e];if(!t)return!1;if(n)for(var o=t.length-1;o>=0;o-=1){var i=t[o];i===n&&t.splice(o,1)}else t&&(t.length=0);return!1}};var I=new H;function T(e){var n=new H;for(var t in n)e[t]=n[t]}var L=t("7d05");function M(){var e=z.getContainer(),n=e.parentNode,t=L(e,{smoothScroll:!1,bounds:!0,zoomDoubleClickSpeed:1,minZoom:.5,maxZoom:2});z.mainContainerWrap=n,z.pan=t,t.on("zoom",function(e){var n=e.getTransform(),t=n.scale;z.setZoom(t)}),n.style.cursor="grab",n.addEventListener("mousedown",function(){this.style.cursor="grabbing",n.addEventListener("mouseout",function(){this.style.cursor="grab"})}),n.addEventListener("mouseup",function(){this.style.cursor="grab"})}var F={init:M},A=F,W=t("7618"),V=t("d225"),$=t("b0b4"),U=t("768b"),X=t("308d"),Y=t("6bb5"),R=t("4e2b"),Z=t("75fc"),q=(t("7514"),t("28a5"),t("b125")),J=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-tooltip",{attrs:{disabled:e.tooltipDisabled,placement:"right"}},[t("div",{staticClass:"fy_tooltip_content",attrs:{slot:"content"},slot:"content"},[e._v("节点信息："+e._s(e.text))]),t("div",{on:{mousedown:function(n){e.tooltipDisabled=!0},mouseup:function(n){e.tooltipDisabled=!1}}},[t("span",{staticClass:"blue_line"}),t("div",{staticClass:"content"},[t("i",{class:e.iconCLassName}),t("span",{staticClass:"text"},[e._v(e._s(e.text))]),"loading"===e.state?t("i",{staticClass:"el-icon-loading node-state"}):"success"===e.state?t("i",{staticClass:"el-icon-circle-check node-state"}):"failed"===e.state?t("i",{staticClass:"el-icon-circle-close node-state"}):"warning"===e.state?t("i",{staticClass:"el-icon-warning-outline node-state"}):t("i")])])])},K=[],G={data:function(){return{tooltipDisabled:!1,text:this.contentText,state:this.nodeState}},props:["nodeState","iconCLassName","contentText"],methods:{}},Q=G,ee=(t("6774"),Object(d["a"])(Q,J,K,!1,null,"7bfd3f06",null)),ne=ee.exports,te={nodes:[],endpoints:[],edges:[],head:""},oe={getData:function(){return te},setData:function(e){te=e},getEndpoints:function(){return te.endpoints},addNode:function(e){te.nodes.push(e)},removeNodeByNodeId:function(e){te.nodes=te.nodes.filter(function(n){return n.id!==e})},getNodeDataByNodeId:function(e){return te.nodes.find(function(n){return n.id===e})},addEdge:function(e){te.edges.push(e)},removeEdge:function(e){te.edges=te.edges.filter(function(n){return n!==e})},getEdgesByPointIds:function(e){var n=[];return te.edges.forEach(function(t){e.forEach(function(e){t.indexOf(e)>-1&&n.push(t)})}),n},removeEdgesByPointIds:function(e){e.forEach(function(e){te.edges=te.edges.filter(function(n){return-1===n.indexOf(e)})})},addEndpoint:function(e){te.endpoints.push(e)},getEndpointsByPointIds:function(e){return Object(Z["a"])(te.endpoints.filter(function(n){return e.indexOf(n.id)>-1}))},removeEndpointsByPointIds:function(e){e.forEach(function(e){te.endpoints=te.endpoints.filter(function(n){return n.id!==e})})},changeNodePos:function(e,n){var t=te.nodes.find(function(n){return n.id===e});t.position=n},changeNodeValue:function(e,n){var t=te.nodes.find(function(n){return n.id===e});t.data.value=n},getHead:function(){return te.head}},ie={strokeWidth:2,stroke:"#b4bdc5",joinstyle:"round",outlineStroke:"transparent",outlineWidth:2},ae={stroke:"#216477"},ce={stroke:"#00cdea",fill:"#00cdea"},re={cssClass:"targetPoint",isTarget:!0,endpoint:"Dot",paintStyle:{fill:"transparent",radius:6},maxConnections:1,dropOptions:{hoverClass:"hover",activeClass:"active"}},se={cssClass:"sourcePoint",isSource:!0,endpoint:"Dot",maxConnections:-1,paintStyle:{stroke:"#00cdea",fill:"#FFF",radius:4,strokeWidth:2},connector:["Bezier",{curviness:70,stub:[40,60],gap:8,cornerRadius:5,alwaysRespectStubs:!0}],connectorStyle:ie,hoverPaintStyle:ce,connectorHoverStyle:ae,dragOptions:{}},le=null;function de(){wn.emit("commandListEmpty")}function ue(){wn.emit("addCommand")}function pe(e){wn.emit("showNodeData",e)}function fe(){var e=document.getElementsByClassName("fy_node_selected")[0];e&&e.classList.remove("fy_node_selected")}function me(e,n){for(var t=n.length,o=1/(t+1),i=0;i<t;i+=1){var a=z.addEndpoint(e,re,{anchor:[o*(i+1),0,0,-1],uuid:n[i].id}),c=new q["a"](a.canvas,{title:n[i].data.value,placement:"top",trigger:"manual",container:a.canvas});a.canvas.tip=c}}function he(e,n){for(var t=n.length,o=1/(t+1),i=function(t){var i=z.addEndpoint(e,se,{anchor:[o*(t+1),1,0,1],uuid:n[t].id}),a=new q["a"](i.canvas,{title:n[t].data.value,placement:"bottom",container:i.canvas});i.bind("mouseover",function(){a.show()}),i.bind("mouseout",function(){a.hide()})},a=0;a<t;a+=1)i(a)}function ve(){var e;if(z.pan){var n=z.pan.getTransform(),t=n.scale;e=t}else{var o=window.getComputedStyle(le).transform;e=1*o.split(", ")[3]}return z.setZoom(e),e}function ge(e){var n=e.style,t=n.left,o=n.top;nn(Ke,e.id,{left:parseFloat(t),top:parseFloat(o)})}function be(e,n){var t=document.getElementById(e);t.style.left="".concat(n.left,"px"),t.style.top="".concat(n.top,"px"),z.revalidate(t),oe.changeNodePos(e,n)}function xe(e){z.draggable(e,{start:function(){ge(e)},stop:function(n){oe.changeNodePos(e.id,{left:n.pos[0],top:n.pos[1]})}})}function ye(e,n){var t=document.getElementById(e);t.vNode.$children[0].state=n}function ke(e){var n=e.join(_),t=z.getAllConnections(),o=t.find(function(e){return e.getUuids().join(_)===n});return o}function we(e){var n=z.getAllConnections();n.forEach(function(e){e.canvas.classList.remove("active")}),e.forEach(function(e){var n=ke(e.split(_));n.canvas.classList.add("active")})}function Ce(e,n,t,i,a,c){var r=document.createElement("div");r.classList.add("fy_node"),r.style.left="".concat(e,"px"),r.style.top="".concat(n,"px"),r.id=t,le.appendChild(r),r.oncontextmenu=function(e){e.preventDefault(),yn.show({left:e.pageX,top:e.pageY},t),e.stopPropagation()},r.onclick=function(e){e.stopPropagation(),fe(),r.classList.add("fy_node_selected"),wn.emit("selectNode",t)},I.on("document.click",function(){fe()});var s=new o["default"]({render:function(e){return e(ne,{props:{iconCLassName:i,contentText:a,nodeState:c}})}}).$mount();r.appendChild(s.$el),r.vNode=s,xe(r)}function je(e,n,t,o){var i=le.getBoundingClientRect(),a=ve(),c="node-".concat(D()),r=(n.pageX-i.left)/a,s=(n.pageY-i.top)/a;"drag"===e&&(r-=86,s-=18);var l=[{id:"target-".concat(D()),data:{value:"输入"}}],d=[{id:"source-".concat(D()),data:{value:"输出"}}];return Ce(r,s,c,t,o),me(c,l),he(c,d),oe.addNode({id:c,points:{targets:l.map(function(e){return e.id}),sources:d.map(function(e){return e.id})},position:{left:r,top:s},data:{icon:t,value:o}}),[].concat(l).concat([].concat(d)).forEach(function(e){oe.addEndpoint(e)}),c}function _e(e){e.forEach(function(e){z.connect({uuids:e.split(_)})})}function Ne(e,n){var t=document.getElementById(n),o=t.lastElementChild.innerHTML,i=t.firstElementChild.className;return je("drag",e,i,o)}function Ee(e,n){var t=oe.getNodeDataByNodeId(n),o=t.data,i=o.icon,a=o.value;return je("copy",e,i,a)}function Oe(e){var n=oe.getData(),t=n.endpoints,o=e.id,i=e.position,a=e.points,c=e.data;Ce(i.left,i.top,o,c.icon,c.value,c.nodeState);var r=a.targets,s=a.sources,l=t.filter(function(e){return r.indexOf(e.id)>-1}),d=t.filter(function(e){return s.indexOf(e.id)>-1});me(o,l),he(o,d)}function De(e,n,t){oe.addNode(e),n.forEach(function(e){oe.addEdge(e)}),t.forEach(function(e){oe.addEndpoint(e)}),Oe(e),_e(n)}function Se(){var e=oe.getData(),n=e.nodes;n.forEach(function(e){Oe(e)})}function Be(){var e=oe.getData(),n=e.edges;_e(n)}function Pe(e){var n=oe.getNodeDataByNodeId(e),t=[].concat(Object(Z["a"])(n.points.sources),Object(Z["a"])(n.points.targets)),o=oe.getEdgesByPointIds(t),i=oe.getEndpointsByPointIds(t);return oe.removeNodeByNodeId(e),oe.removeEdgesByPointIds(t),oe.removeEndpointsByPointIds(t),z.remove(e),[n,o,i]}function ze(e){z.connect({uuids:e.split(_)}),oe.addEdge(e)}function He(e){var n=e.getUuids().join(_);return oe.removeEdge(n),z.deleteConnection(e),n}function Ie(e){He(ke(e))}function Te(e,n){var t=document.getElementById(e),o=t.vNode.$children[0];o.text=n,oe.changeNodeValue(e,n)}function Le(){Se(),Be()}function Me(e){nn(qe,e),oe.addEdge(e.join(_))}function Fe(e,n){return new Promise(function(t){setTimeout(function(){e(),t(!0)},n)})}function Ae(){return ye("aaa","loading"),Fe(function(){ye("aaa","success"),ye("bbb","loading"),we(["source1&&target1","source2&&target2"])},3e3).then(function(){return Fe(function(){ye("bbb","success"),ye("ccc","loading"),we(["source3&&ccc111","source3&&ccc222"])},4e3)}).then(function(){return Fe(function(){ye("ccc","success"),ye("ddd","failed"),we([])},5e3)})}function We(){z.bind("contextmenu",function(e,n){n.preventDefault(),n.stopPropagation(),O(e)||yn.show({left:n.pageX,top:n.pageY},e)}),z.getContainer().parentElement.addEventListener("contextmenu",function(e){e.preventDefault(),yn.show({left:e.pageX,top:e.pageY})}),z.bind("connection",function(e,n){if(n){var t=e.connection.getUuids();Me(t)}}),z.bind("connectionDrag",function(){var e=document.querySelectorAll(".jtk-endpoint.targetPoint:not(.jtk-endpoint-connected)");[].forEach.call(e,function(e){e.tip.show()})}),z.bind("connectionDragStop",function(){var e=document.querySelectorAll(".jtk-endpoint.targetPoint");[].forEach.call(e,function(e){e.tip.hide()})}),z.bind("beforeDrop",function(e){return e.sourceId!==e.targetId})}function Ve(){le=z.getContainer(),We()}var $e={emitCommandListEmpty:de,emitAddCommand:ue,emitShowNodeData:pe,addNodeByDrag:Ne,addNodeByCopy:Ee,addNodeByExtraData:De,addConnector:ze,changeNodePosition:be,init:Ve,render:Le,getScale:ve,removeNode:Pe,removeConnector:He,renameNode:Te,execAddConnectorCommand:Me,removeConnectorByUuids:Ie,execModel:Ae},Ue=$e,Xe={commandList:[],recover:function(){},undo:function(){var e=this.commandList.pop();e&&(e.undo(),0===this.commandList.length&&Ue.emitCommandListEmpty())}},Ye=function(){function e(){Object(V["a"])(this,e)}return Object($["a"])(e,[{key:"exec",value:function(){throw new Error("请实现exec方法！")}},{key:"undo",value:function(){throw new Error("请实现undo方法！")}}]),e}(),Re=function(e){function n(){return Object(V["a"])(this,n),Object(X["a"])(this,Object(Y["a"])(n).apply(this,arguments))}return Object(R["a"])(n,e),Object($["a"])(n,[{key:"exec",value:function(e,n){this.id=Ue.addNodeByDrag(e,n)}},{key:"undo",value:function(){Ue.removeNode(this.id)}}]),n}(Ye),Ze=function(e){function n(){return Object(V["a"])(this,n),Object(X["a"])(this,Object(Y["a"])(n).apply(this,arguments))}return Object(R["a"])(n,e),Object($["a"])(n,[{key:"exec",value:function(e){var n=Ue.removeNode(e),t=Object(U["a"])(n,3),o=t[0],i=t[1],a=t[2];this.nodeData=o,this.nodeEdgesData=i,this.nodeEndpointsData=a}},{key:"undo",value:function(){Ue.addNodeByExtraData(this.nodeData,this.nodeEdgesData,this.nodeEndpointsData)}}]),n}(Ye),qe=function(e){function n(){return Object(V["a"])(this,n),Object(X["a"])(this,Object(Y["a"])(n).apply(this,arguments))}return Object(R["a"])(n,e),Object($["a"])(n,[{key:"exec",value:function(e){this.uuids=e}},{key:"undo",value:function(){Ue.removeConnectorByUuids(this.uuids)}}]),n}(Ye),Je=function(e){function n(){return Object(V["a"])(this,n),Object(X["a"])(this,Object(Y["a"])(n).apply(this,arguments))}return Object(R["a"])(n,e),Object($["a"])(n,[{key:"exec",value:function(e){this.edge=Ue.removeConnector(e)}},{key:"undo",value:function(){Ue.addConnector(this.edge)}}]),n}(Ye),Ke=function(e){function n(){return Object(V["a"])(this,n),Object(X["a"])(this,Object(Y["a"])(n).apply(this,arguments))}return Object(R["a"])(n,e),Object($["a"])(n,[{key:"exec",value:function(e,n){this.id=e,this.oldPos=n}},{key:"undo",value:function(){Ue.changeNodePosition(this.id,this.oldPos)}}]),n}(Ye),Ge=function(e){function n(){return Object(V["a"])(this,n),Object(X["a"])(this,Object(Y["a"])(n).apply(this,arguments))}return Object(R["a"])(n,e),Object($["a"])(n,[{key:"exec",value:function(e,n){this.id=Ue.addNodeByCopy(e,n)}},{key:"undo",value:function(){Ue.removeNode(this.id)}}]),n}(Ye),Qe=function(e){function n(){return Object(V["a"])(this,n),Object(X["a"])(this,Object(Y["a"])(n).apply(this,arguments))}return Object(R["a"])(n,e),Object($["a"])(n,[{key:"exec",value:function(e,n,t){this.nodeId=e,this.oldValue=n,Ue.renameNode(e,t)}},{key:"undo",value:function(){Ue.renameNode(this.nodeId,this.oldValue)}}]),n}(Ye);function en(){Xe.undo()}function nn(e){for(var n=new e,t=arguments.length,o=new Array(t>1?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];n.exec.apply(n,o),Xe.commandList.push(n),Ue.emitAddCommand()}var tn=function(){function e(n){Object(V["a"])(this,e),this.text=n.text,this.icon=n.icon,this.role=n.role,this.clickHandle=n.clickHandle,this.init()}return Object($["a"])(e,[{key:"init",value:function(){var e=document.createElement("li");e.className="fy_contextMenu_item",e.dataset.role=this.role,e.innerHTML='<i class="'.concat(this.icon,'"></i><span>').concat(this.text,"</span>"),this.el=e,this.bind()}},{key:"bind",value:function(){var e=this;this.el.onclick=function(n){n.stopPropagation(),e.clickHandle(n)}}},{key:"getEl",value:function(){return this.el}}]),e}(),on=null,an=null,cn="",rn={};function sn(e){e&&("object"===Object(W["a"])(e)?nn(Je,e):"string"===typeof e&&nn(Ze,e))}function ln(){on.style.display="none"}function dn(){var e=document.createElement("div");e.style.cssText="height:1px;background:#efefef;",on.appendChild(e)}function un(e){var n=new tn(e);on.appendChild(n.getEl())}function pn(){un({text:"重命名",icon:"el-icon-edit",role:"rename",clickHandle:function(){var e=document.getElementById(an),n=e.vNode.$children[0];i["MessageBox"].prompt("请输入新名称","重命名",{confirmButtonText:"确定",inputValue:n.text,cancelButtonText:"取消"}).then(function(e){var t=e.value;nn(Qe,an,n.text,t)}).catch(function(){})}}),un({text:"复制",icon:"el-icon-copy-document",role:"delete",clickHandle:function(){cn=an,i["Message"].success({message:"复制成功！"})}}),un({text:"删除",icon:"el-icon-delete",role:"delete",clickHandle:function(){sn(an)}}),dn(),un({text:"查看数据",icon:"el-icon-view",role:"view",clickHandle:function(){Ue.emitShowNodeData(an)}})}function fn(){un({text:"删除",icon:"el-icon-delete",role:"delete",clickHandle:function(){sn(an)}})}function mn(){un({text:"粘贴节点",icon:"el-icon-download",role:"paste",clickHandle:function(){cn?nn(Ge,{pageX:rn.left,pageY:rn.top},cn):Object(i["Message"])({type:"warning",message:"请复制节点后再粘贴。"})}})}function hn(){on.innerHTML="",an&&"string"===typeof an&&pn(),an&&"object"===Object(W["a"])(an)&&fn(),"undefined"===typeof an&&mn()}function vn(){on=document.createElement("ul"),on.className="fy_contextMenu",document.body.appendChild(on),on.onmouseup=ln}function gn(e,n){on.style.top="".concat(e.top,"px"),on.style.left="".concat(e.left,"px"),on.style.display="block",rn=e,an=n,hn()}function bn(){vn(),ln(),I.on("document.click",function(e){e.target.classList.contains("fy_contextMenu_item")||ln()})}var xn={init:bn,show:gn},yn=xn,kn={setContainer:function(e){z.setContainer(e),this.init()},addNode:function(e,n){nn(Re,e,n)},undo:function(){en()},init:function(){Ue.init(),A.init(),yn.init()},zoomIn:function(){var e=z.mainContainerWrap.clientWidth/2,n=z.mainContainerWrap.clientHeight/2;z.pan.smoothZoom(e,n,.8)},zoomOut:function(){var e=z.mainContainerWrap.clientWidth/2,n=z.mainContainerWrap.clientHeight/2;z.pan.smoothZoom(e,n,1.2)},loadData:function(e){oe.setData(e),Ue.render()},execModel:function(){return Ue.execModel()}};T(kn),document.addEventListener("click",function(e){I.emit("document.click",e)});var wn=kn,Cn={data:function(){return{isShowNode:!1,currentNodeId:"",isUndoDisable:!0,isExecDisable:!1,nodeData:[],defaultProps:{children:"children",label:"label"},filterText:"",activeName:"first",toolBarShow:"component",modelName:"屏蔽门故障预测",modelDescription:"利用回归模型预测屏蔽门故障。",gridData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"}],dialogTableVisible:!1,messagesList:[{time:"2019/6/5 下午3:17:29",message:"当前实验中没有可回滚的节点"},{time:"2019/6/5 下午3:00:25",message:"模型不存在,请生成模型后重试"},{time:"2019/6/5 下午3:00:17",message:"实验目录不存在"},{time:"2019/6/5 下午3:00:09",message:"模型不存在,请生成模型后重试"}]}},watch:{filterText:function(e){this.$refs.tree2.filter(e)}},mounted:function(){var e=this;wn.setContainer("mainContainer"),wn.on("commandListEmpty",function(){e.isUndoDisable=!0}),wn.on("showNodeData",function(n){e.dialogTableVisible=!0,console.log(n)}),wn.on("addCommand",function(){e.isUndoDisable=!1}),wn.on("selectNode",function(n){e.isShowNode=!0,e.currentNodeId=n}),C.getFlowChartData().then(function(e){wn.loadData(e.data)}),C.getMenuData().then(function(n){e.nodeData=n.data})},methods:{renderContentFunction:function(e,n){var t,o=n.node,i=n.data,a=o.expanded?"el-icon-folder-opened":"el-icon-folder",c=!i.children&&i.icon?i.icon:"";return e("div",{class:{leafNode:!i.children},style:{height:"38px",lineHeight:"38px",fontSize:"12px",color:"#1b1c23"}},[e("el-tooltip",{attrs:{content:i.label,placement:"top-end",disabled:!!i.children}},[e("span",{attrs:{draggable:!i.children,id:i.id},on:{dragstart:this.dragHandle},class:"node",style:{display:"inline-block",marginTop:"4px",height:"30px",lineHeight:"30px",width:"140px",borderRadius:"4px",position:"relative",outline:"none",border:i.children?"none":"1px solid transparent"}},[e("i",{class:(t={},Object(b["a"])(t,a,!!i.children),Object(b["a"])(t,c,!i.children),t),style:{color:"#00cdea",marginLeft:i.children?"10px":"15px"}}),e("span",{style:{fontSize:"13px",marginLeft:"10px"}},i.label)])])])},filterNode:function(e,n){return!e||-1!==n.label.indexOf(e)},dragoverHandle:function(e){e.preventDefault()},dragHandle:function(e){e.dataTransfer.setData("target",e.target.id)},dropHandle:function(e){wn.addNode({pageX:e.pageX,pageY:e.pageY},e.dataTransfer.getData("target"))},clickBgHandle:function(){this.isShowNode=!1},zoomOut:function(){wn.zoomOut()},zoomIn:function(){wn.zoomIn()},undo:function(){wn.undo()},execModel:function(){var e=this;this.isExecDisable=!0,wn.execModel().then(function(){e.isExecDisable=!1})}}},jn=Cn,_n=(t("0217"),Object(d["a"])(jn,v,g,!1,null,null,null)),Nn=_n.exports,En={components:{FlowChart:Nn}},On=En,Dn=(t("5f9a"),Object(d["a"])(On,m,h,!1,null,null,null)),Sn=Dn.exports;o["default"].use(f["a"]);var Bn=new f["a"]({routes:[{path:"/",redirect:"/index"},{path:"/index",name:"index",component:Sn},{path:"/operation",name:"operation",component:function(){return t.e("operation").then(t.bind(null,"7ebb"))}}]}),Pn=t("2f62");o["default"].use(Pn["a"]);var zn=new Pn["a"].Store({state:{},mutations:{},actions:{}});t("245a"),o["default"].use(a.a),o["default"].config.productionTip=!1,new o["default"]({router:Bn,store:zn,render:function(e){return e(p)}}).$mount("#app")},"5c0b":function(e,n,t){"use strict";var o=t("5e27"),i=t.n(o);i.a},"5e27":function(e,n,t){},"5f9a":function(e,n,t){"use strict";var o=t("da45"),i=t.n(o);i.a},6774:function(e,n,t){"use strict";var o=t("f798"),i=t.n(o);i.a},cf05:function(e,n,t){e.exports=t.p+"img/logo.02e648dc.png"},da45:function(e,n,t){},f798:function(e,n,t){}});
//# sourceMappingURL=app.ceaf261d.js.map